<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share by me</title>
    <style>
        /* Background */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: url("{{ url_for('static', filename='background.jpg') }}") no-repeat center center fixed;
            background-size: cover;
        }

        /* Container */
        .container {
            max-width: 500px;
            margin: 50px auto;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            color: white;
            text-align: center;
            box-shadow: 0px 0px 15px rgba(255, 255, 255, 0.3);
        }

        /* File input & buttons */
        input[type="file"], button {
            margin: 10px 0;
        }

        /* File list */
        ul {
            list-style-type: none;
            padding: 0;
        }

        li {
            margin: 10px 0;
        }

        /* Delete button */
        .delete-btn {
            background-color: red;
            color: white;
            border: none;
            padding: 2px 4px;
            cursor: pointer;
            border-radius: 3px;
        }

        .delete-btn:hover {
            background-color: darkred;
        }

        /* Storage info */
        .storage-info {
            margin-top: 18px;
            font-size: 14px;
        }

        /* Log Box (Jar Effect) */
        .log-box {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 20px;
            color: green;
            font-family: monospace;
            display: none;
            box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.3), 0 0 20px rgba(255, 255, 255, 0.4);
            position: relative;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        /* Jar Lid Effect */
        .log-box::before {
            content: "";
            position: absolute;
            top: -10px;
            left: 50%;
            width: 60%;
            height: 10px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            transform: translateX(-50%);
            box-shadow: 0px 2px 8px rgba(255, 255, 255, 0.6);
        }

        /* Log Button */
        .log-btn {
            margin-top: 10px;
            background-color: white;
            color: black;
            border: none;
            padding: 2px 4px;
            cursor: pointer;
            border-radius: 4px;
            box-shadow: 0px 2px 5px rgba(255, 255, 255, 0.5);
        }

        .log-btn:hover {
            background-color: lightgray;
        }

        /* Log List */
        .log-list {
            text-align: left;
            padding: 0;
        }

        .log-list p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Share By Me.ðŸ¤</h1>

        <!-- Upload Form -->
        <form action="/upload" method="post" enctype="multipart/form-data">
            <label for="file">Choose a file to upload:</label><br>
            <input type="file" name="file" id="file" required><br>
            <button type="submit">Upload</button>
        </form>

        <hr>

        <!-- Files List -->
        <h2>Files</h2>
        <ul>
            {% for file in files %}
                <li>
                    <a href="/download/{{ file.name }}" style="color: white;">{{ file.name }}</a><br>
                    <span>Size: {{ file.size }} KB</span><br>
                    <form action="/delete/{{ file.name }}" method="post">
                        <button type="submit" class="delete-btn">Delete</button>
                    </form>
                </li>
            {% endfor %}
        </ul>

        <button id="log-btn" class="log-btn" onclick="toggleLogBox()">Show Logs</button>
        <div id="log-box" class="log-box">
            <div class="log-list">
                {% for log in logs %}
                    <p>{{ log }}</p>
                {% endfor %}
            </div>
        </div>

        <div class="storage-info">
            <span>Free Space: {{ total_free_space | round(2) }} GB</span>
        </div>
    </div>

    <script>
        function toggleLogBox() {
            var logBox = document.getElementById('log-box');
            var logBtn = document.getElementById('log-btn');
            logBox.style.display = logBox.style.display === 'none' ? 'block' : 'none';
            logBtn.textContent = logBox.style.display === 'none' ? 'Show Logs' : 'Hide Logs';
        }
    </script>
</body>
</html>





<script>

    var bits=50; // how many bits
    var speed=20; // how fast - smaller is faster
    var bangs=9; // how many can be launched simultaneously (note that using too many can slow the script down)
    var colours=new Array("#03f", "#f03", "#0e0", "#93f", "#0cf", "#f93", "#f0c");
    
    var bangheight=new Array();
    var intensity=new Array();
    var colour=new Array();
    var Xpos=new Array();
    var Ypos=new Array();
    var dX=new Array();
    var dY=new Array();
    var stars=new Array();
    var decay=new Array();
    var swide=800;
    var shigh=600;
    var boddie;
    window.onload=function() { if (document.getElementById) {
      var i;
      boddie=document.createElement("div");
      boddie.style.position="fixed";
      boddie.style.top="0px";
      boddie.style.left="0px";
      boddie.style.overflow="visible";
      boddie.style.width="1px";
      boddie.style.height="1px";
      boddie.style.backgroundColor="transparent";
      document.body.appendChild(boddie);
      set_width();
      for (i=0; i<bangs; i++) {
        write_fire(i);
        launch(i);
        setInterval('stepthrough('+i+')', speed);
      }
    }}
    function write_fire(N) {
      var i, rlef, rdow;
      stars[N+'r']=createDiv('|', 12);
      boddie.appendChild(stars[N+'r']);
      for (i=bits*N; i<bits+bits*N; i++) {
        stars[i]=createDiv('*', 13);
        boddie.appendChild(stars[i]);
      }
    }
    function createDiv(char, size) {
      var div=document.createElement("div");
      div.style.font=size+"px monospace";
      div.style.position="absolute";
      div.style.backgroundColor="transparent";
      div.appendChild(document.createTextNode(char));
      return (div);
    }
    function launch(N) {
      colour[N]=Math.floor(Math.random()*colours.length);
      Xpos[N+"r"]=swide*0.5;
      Ypos[N+"r"]=shigh-5;
      bangheight[N]=Math.round((0.5+Math.random())*shigh*0.4);
      dX[N+"r"]=(Math.random()-0.5)*swide/bangheight[N];
      if (dX[N+"r"]>1.25) stars[N+"r"].firstChild.nodeValue="/";
      else if (dX[N+"r"]<-1.25) stars[N+"r"].firstChild.nodeValue="\\";
      else stars[N+"r"].firstChild.nodeValue="|";
      stars[N+"r"].style.color=colours[colour[N]];
    }
    function bang(N) {
      var i, Z, A=0;
      for (i=bits*N; i<bits+bits*N; i++) {
        Z=stars[i].style;
        Z.left=Xpos[i]+"px";
        Z.top=Ypos[i]+"px";
        if (decay[i]) decay[i]--;
        else A++;
        if (decay[i]==15) Z.fontSize="7px";
        else if (decay[i]==7) Z.fontSize="2px";
        else if (decay[i]==1) Z.visibility="hidden";
        Xpos[i]+=dX[i];
        Ypos[i]+=(dY[i]+=1.25/intensity[N]);
      }
      if (A!=bits) setTimeout("bang("+N+")", speed);
    }
    function stepthrough(N) {
      var i, M, Z;
      var oldx=Xpos[N+"r"];
      var oldy=Ypos[N+"r"];
      Xpos[N+"r"]+=dX[N+"r"];
      Ypos[N+"r"]-=4;
      if (Ypos[N+"r"]<bangheight[N]) {
        M=Math.floor(Math.random()*3*colours.length);
        intensity[N]=5+Math.random()*4;
        for (i=N*bits; i<bits+bits*N; i++) {
          Xpos[i]=Xpos[N+"r"];
          Ypos[i]=Ypos[N+"r"];
          dY[i]=(Math.random()-0.5)*intensity[N];
          dX[i]=(Math.random()-0.5)*(intensity[N]-Math.abs(dY[i]))*1.25;
          decay[i]=16+Math.floor(Math.random()*16);
          Z=stars[i];
          if (M<colours.length) Z.style.color=colours[i%2?colour[N]:M];
          else if (M<2*colours.length) Z.style.color=colours[colour[N]];
          else Z.style.color=colours[i%colours.length];
          Z.style.fontSize="13px";
          Z.style.visibility="visible";
        }
        bang(N);
        launch(N);
      }
      stars[N+"r"].style.left=oldx+"px";
      stars[N+"r"].style.top=oldy+"px";
    }
    window.onresize=set_width;
    function set_width() {
      var sw_min=999999;
      var sh_min=999999;
      if (document.documentElement && document.documentElement.clientWidth) {
        if (document.documentElement.clientWidth>0) sw_min=document.documentElement.clientWidth;
        if (document.documentElement.clientHeight>0) sh_min=document.documentElement.clientHeight;
      }
      if (typeof(self.innerWidth)!="undefined" && self.innerWidth) {
        if (self.innerWidth>0 && self.innerWidth<sw_min) sw_min=self.innerWidth;
        if (self.innerHeight>0 && self.innerHeight<sh_min) sh_min=self.innerHeight;
      }
      if (document.body.clientWidth) {
        if (document.body.clientWidth>0 && document.body.clientWidth<sw_min) sw_min=document.body.clientWidth;
        if (document.body.clientHeight>0 && document.body.clientHeight<sh_min) sh_min=document.body.clientHeight;
      }
      if (sw_min==999999 || sh_min==999999) {
        sw_min=800;
        sh_min=600;
      }
      swide=sw_min;
      shigh=sh_min;
    }
    
</script>
